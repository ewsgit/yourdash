{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { app, BrowserWindow } from \"electron\";\nimport path from \"path\";\n\nprocess.env['ELECTRON_DISABLE_SECURITY_WARNINGS'] = 'true'\n\nfunction init() {\n  let window = new BrowserWindow( { resizable: true, frame: true, movable: true } )\n\n  window.menuBarVisible = false\n  window.title = \"YourDash Desktop\"\n\n  if (process.env.DEV) {\n    window.loadURL( \"http://localhost:3000\" ).then( () => {\n      window.show()\n      window.focus()\n    } )\n  } else {\n    window.loadFile( path.join( __dirname, \"../../frontend/index.html\" ) ).then( () => {\n      window.show()\n      window.focus()\n    } )\n  }\n\n\n  window.webContents.on( 'before-input-event', (event, input) => {\n    if (input.control && input.shift && input.key.toLowerCase() === 'i') {\n      event.preventDefault()\n      window.webContents.toggleDevTools()\n    }\n  } )\n\n  // allow the electron frontend to have a different layout to the website\n  window.webContents.executeJavaScript( `window.localStorage.setItem(\"desktop_mode\", true)` ).then(\n      () => { console.log( `desktop-mode injection complete` ) } )\n  // window.webContents.executeJavaScript(`window.localStorage.removeItem(\"desktop_mode\")`)\n}\n\napp.whenReady().then( () => {\n  init()\n} )\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,sBAAmC;AACnC,kBAAiB;AAEjB,QAAQ,IAAI,oCAAoC,IAAI;AAEpD,SAAS,OAAO;AACd,MAAI,SAAS,IAAI,8BAAe,EAAE,WAAW,MAAM,OAAO,MAAM,SAAS,KAAK,CAAE;AAEhF,SAAO,iBAAiB;AACxB,SAAO,QAAQ;AAEf,MAAI,QAAQ,IAAI,KAAK;AACnB,WAAO,QAAS,uBAAwB,EAAE,KAAM,MAAM;AACpD,aAAO,KAAK;AACZ,aAAO,MAAM;AAAA,IACf,CAAE;AAAA,EACJ,OAAO;AACL,WAAO,SAAU,YAAAA,QAAK,KAAM,WAAW,2BAA4B,CAAE,EAAE,KAAM,MAAM;AACjF,aAAO,KAAK;AACZ,aAAO,MAAM;AAAA,IACf,CAAE;AAAA,EACJ;AAGA,SAAO,YAAY,GAAI,sBAAsB,CAAC,OAAO,UAAU;AAC7D,QAAI,MAAM,WAAW,MAAM,SAAS,MAAM,IAAI,YAAY,MAAM,KAAK;AACnE,YAAM,eAAe;AACrB,aAAO,YAAY,eAAe;AAAA,IACpC;AAAA,EACF,CAAE;AAGF,SAAO,YAAY,kBAAmB,mDAAoD,EAAE;AAAA,IACxF,MAAM;AAAE,cAAQ,IAAK,iCAAkC;AAAA,IAAE;AAAA,EAAE;AAEjE;AAEA,oBAAI,UAAU,EAAE,KAAM,MAAM;AAC1B,OAAK;AACP,CAAE;","names":["path"],"file":"main.js"}